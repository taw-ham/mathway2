<<<<<<< HEAD
const _0x1596=["\x65\x6D\x61\x69\x6C","\x6E\x6F\x6D\x65","\x73\x65\x6E\x68\x61","\x75\x72\x6C","\x6A\x73\x6F\x6E","\x74\x68\x65\x6E","\x50\x4F\x53\x54","\x73\x74\x72\x69\x6E\x67\x69\x66\x79","\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x2F\x6A\x73\x6F\x6E","\x47\x45\x54","\x62\x75\x74\x74\x6F\x6E","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x54\x61\x67\x4E\x61\x6D\x65","\x6C\x65\x6E\x67\x74\x68","\x6F\x6E\x63\x6C\x69\x63\x6B","\x69\x64","\x74\x61\x72\x67\x65\x74","\x62\x62\x78","\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64","\x6C\x69\x6E\x65\x61\x72\x2D\x67\x72\x61\x64\x69\x65\x6E\x74\x28\x77\x68\x69\x74\x65\x73\x6D\x6F\x6B\x65\x2C\x6C\x69\x67\x68\x74\x62\x6C\x75\x65\x29","\x63\x73\x73","\x23\x6C\x6F\x67\x78","\x66\x61\x73\x74","\x68\x69\x64\x65","\x23\x6F\x62\x78","\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64\x2D\x63\x6F\x6C\x6F\x72","\x6C\x69\x67\x68\x74\x62\x6C\x75\x65","\x23\x74\x69\x70\x6F\x6C\x6F\x67\x69\x6E\x78","\x62\x6C\x75\x65","\x23\x62\x62\x78","\x6C\x69\x67\x68\x74\x73\x6C\x61\x74\x65\x67\x72\x61\x79","\x23\x63\x63\x78","\x70\x61\x64\x64\x69\x6E\x67\x2D\x62\x6F\x74\x74\x6F\x6D","\x37\x2E\x32\x25","\x23\x77\x61\x6C\x6C\x78","\x6C\x69\x6E\x65\x61\x72\x2D\x67\x72\x61\x64\x69\x65\x6E\x74\x28\x77\x68\x69\x74\x65\x73\x6D\x6F\x6B\x65\x2C\x6C\x69\x67\x68\x74\x67\x72\x65\x65\x6E","\x6C\x69\x67\x68\x74\x67\x72\x65\x65\x6E","\x67\x72\x65\x65\x6E","\x66\x61\x7A\x65\x72\x5F\x6C\x6F\x67\x69\x6E","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x76\x61\x6C","\x23\x6E\x6F\x6D\x65\x5F\x6C\x6F\x67\x69\x6E","\x23\x73\x65\x6E\x68\x61\x5F\x6C\x6F\x67\x69\x6E","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x62\x61\x6E\x63\x6F\x64\x65\x64\x61\x64\x6F\x73\x2E\x74\x61\x77\x68\x61\x6D\x2E\x72\x65\x70\x6C\x2E\x63\x6F\x2F\x41\x6C\x75\x6E\x6F\x73\x3F\x65\x6D\x61\x69\x6C\x3D","","\x4C\x6F\x67\x69\x6E\x20\x49\x6E\x76\xE1\x6C\x69\x64\x6F\x21","\x2D\x20\x65\x6D\x61\x69\x6C\x20\x2D","\x65\x72\x72\x6F\x72","\x31\x32\x33\x34\x35\x36\x37\x38\x39\x30\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6A\x6B\x6C\x6D\x6E\x6F\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7A","\x64\x65\x63\x72\x79\x70\x74","\x41\x45\x53","\x65\x6E\x63","\x65\x6E\x63\x72\x79\x70\x74","\x73\x65\x74\x49\x74\x65\x6D","\x2E\x2F\x70\x61\x67\x69\x6E\x61\x5F\x61\x6C\x75\x6E\x6F\x2E\x68\x74\x6D\x6C","\x61\x73\x73\x69\x67\x6E","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x2D\x20\x53\x65\x6E\x68\x61\x20\x49\x6E\x63\x6F\x72\x72\x65\x74\x61\x20\x2D","\x6C\x69\x73\x74\x61\x72","\x63\x63\x78","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x62\x61\x6E\x63\x6F\x64\x65\x64\x61\x64\x6F\x73\x2E\x74\x61\x77\x68\x61\x6D\x2E\x72\x65\x70\x6C\x2E\x63\x6F\x2F\x70\x72\x6F\x66\x65\x73\x73\x6F\x72\x65\x73\x3F\x65\x6D\x61\x69\x6C\x3D","\x2D\x20\x65\x6D\x61\x69\x6C\x20\x6F\x75\x20\x73\x65\x6E\x68\x61\x20\x69\x6E\x63\x6F\x72\x72\x65\x74\x6F\x73\x20\x2D","\x70\x61\x73\x73\x6F\x75","\x2E\x2F\x70\x72\x6F\x66\x65\x73\x73\x6F\x72\x5F\x70\x61\x67\x69\x6E\x61\x2E\x68\x74\x6D\x6C","\x2D\x20\x65\x73\x63\x6F\x6C\x68\x61\x20\x73\x65\x75\x20\x74\x69\x70\x6F\x20\x64\x65\x20\x75\x73\x75\xE1\x72\x69\x6F\x20\x2D"];class Aluno{constructor(_0xef76x2,_0xef76x3,_0xef76x4){this[_0x1596[0]]= _0xef76x2;this[_0x1596[1]]= _0xef76x3;this[_0x1596[2]]= _0xef76x4}};class Aluno_Service{constructor(_0xef76x5){this[_0x1596[3]]= _0xef76x5}inserir(_0xef76x3,_0xef76x4){return fetch(this[_0x1596[3]],{method:_0x1596[6],body:JSON[_0x1596[7]](_0xef76x3,_0xef76x4),headers:{'\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x54\x79\x70\x65':_0x1596[8]}})[_0x1596[5]]((_0xef76x7)=>{return _0xef76x7[_0x1596[4]]()})}listar(){return fetch(this[_0x1596[3]],{method:_0x1596[9]})[_0x1596[5]]((_0xef76x7)=>{return _0xef76x7[_0x1596[4]]()})}};class PROFESSOR{constructor(_0xef76x3,_0xef76x4,_0xef76x2){this[_0x1596[1]]= _0xef76x3;this[_0x1596[2]]= _0xef76x4;this[_0x1596[0]]= _0xef76x2}};class ProfessorService{constructor(_0xef76x5){this[_0x1596[3]]= _0xef76x5}listar(){return fetch(this[_0x1596[3]],{method:_0x1596[9]})[_0x1596[5]]((_0xef76x7)=>{return _0xef76x7[_0x1596[4]]()})}inserir(_0xef76x3,_0xef76x4){return fetch(this[_0x1596[3]],{method:_0x1596[6],body:JSON[_0x1596[7]](_0xef76x3,_0xef76x4),headers:{'\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x54\x79\x70\x65':_0x1596[8]}})[_0x1596[5]]((_0xef76x7)=>{return _0xef76x7[_0x1596[4]]()})}};let tipo_loginx;let tipo_userx=document[_0x1596[11]](_0x1596[10]);for(let i=0;i<= tipo_userx[_0x1596[12]]- 1;i++){tipo_userx[i][_0x1596[13]]= function(){tipo_loginx= event[_0x1596[15]][_0x1596[14]];if(tipo_loginx== _0x1596[16]){$(_0x1596[20])[_0x1596[19]](_0x1596[17],_0x1596[18]);$(_0x1596[23])[_0x1596[22]](_0x1596[21]);$(_0x1596[26])[_0x1596[19]](_0x1596[24],_0x1596[25]);$(_0x1596[28])[_0x1596[19]](_0x1596[24],_0x1596[27]);$(_0x1596[30])[_0x1596[19]](_0x1596[24],_0x1596[29]);$(_0x1596[33])[_0x1596[19]](_0x1596[31],_0x1596[32])}else {$(_0x1596[20])[_0x1596[19]](_0x1596[17],_0x1596[34]);$(_0x1596[23])[_0x1596[22]](_0x1596[21]);$(_0x1596[26])[_0x1596[19]](_0x1596[24],_0x1596[35]);$(_0x1596[30])[_0x1596[19]](_0x1596[24],_0x1596[36]);$(_0x1596[28])[_0x1596[19]](_0x1596[24],_0x1596[29]);$(_0x1596[33])[_0x1596[19]](_0x1596[31],_0x1596[32])}}};document[_0x1596[38]](_0x1596[37])[_0x1596[13]]= function(){const _0xef76xc=$(_0x1596[40])[_0x1596[39]]();const _0xef76x4=$(_0x1596[41])[_0x1596[39]]();if(tipo_loginx== _0x1596[16]){const _0xef76xd= new Aluno_Service(`${_0x1596[42]}${_0xef76xc}${_0x1596[43]}`);_0xef76xd[_0x1596[57]]()[_0x1596[5]]((_0xef76x7)=>{if(_0xef76x7[_0x1596[12]]=== 0){swal(_0x1596[44],_0x1596[45],_0x1596[46])}else {const _0xef76xe=_0x1596[47];const _0xef76x2=_0xef76x7[0][_0x1596[0]];let _0xef76xf=_0xef76x7[0][_0x1596[14]];_0xef76xf= _0xef76xf.toString();const _0xef76x10=_0xef76x7[0][_0x1596[1]];const _0xef76x11=_0xef76x7[0][_0x1596[2]];const _0xef76x12=CryptoJS[_0x1596[49]][_0x1596[48]](_0xef76x11,_0xef76xe);const _0xef76x13=_0xef76x12.toString(CryptoJS[_0x1596[50]].Utf8);(_0xef76x13);if(_0xef76x4== _0xef76x13){const _0xef76x14=CryptoJS[_0x1596[49]][_0x1596[51]](_0xef76xf,_0xef76xe);const _0xef76x15=CryptoJS[_0x1596[49]][_0x1596[51]](_0xef76x2,_0xef76xe);const _0xef76x16=CryptoJS[_0x1596[49]][_0x1596[51]](_0xef76x10,_0xef76xe);localStorage[_0x1596[52]](_0x1596[14],_0xef76x14);localStorage[_0x1596[52]](_0x1596[0],_0xef76x15);localStorage[_0x1596[52]](_0x1596[1],_0xef76x16);window[_0x1596[55]][_0x1596[54]](_0x1596[53])}else {swal(_0x1596[44],_0x1596[56],_0x1596[46])}}})}else {if(tipo_loginx=== _0x1596[58]){let _0xef76x17= new ProfessorService(`${_0x1596[59]}${_0xef76xc}${_0x1596[43]}`);_0xef76x17[_0x1596[57]]()[_0x1596[5]]((_0xef76x18)=>{(_0xef76x18);if(_0xef76x18[_0x1596[12]]== 0){swal(_0x1596[44],_0x1596[60],_0x1596[46])}else {(_0x1596[61]);const _0xef76xe=_0x1596[47];let _0xef76xf=_0xef76x18[0][_0x1596[14]];_0xef76xf= _0xef76xf.toString();const _0xef76x2=_0xef76x18[0][_0x1596[0]];const _0xef76x10=_0xef76x18[0][_0x1596[1]];const _0xef76x11=_0xef76x18[0][_0x1596[2]];const _0xef76x12=CryptoJS[_0x1596[49]][_0x1596[48]](_0xef76x11,_0xef76xe);const _0xef76x13=_0xef76x12.toString(CryptoJS[_0x1596[50]].Utf8);(_0xef76x13);if(_0xef76x4== _0xef76x13){const _0xef76x14=CryptoJS[_0x1596[49]][_0x1596[51]](_0xef76xf,_0xef76xe);const _0xef76x15=CryptoJS[_0x1596[49]][_0x1596[51]](_0xef76x2,_0xef76xe);const _0xef76x16=CryptoJS[_0x1596[49]][_0x1596[51]](_0xef76x10,_0xef76xe);localStorage[_0x1596[52]](_0x1596[14],_0xef76x14);localStorage[_0x1596[52]](_0x1596[0],_0xef76x15);localStorage[_0x1596[52]](_0x1596[1],_0xef76x16);window[_0x1596[55]][_0x1596[54]](_0x1596[62])}else {swal(_0x1596[44],_0x1596[56],_0x1596[46])}}})}else {swal(_0x1596[44],_0x1596[63],_0x1596[46])}}}
=======


    class Aluno {
        constructor(email, nome, senha) {
            this.email = email;
            this.nome = nome;
            this.senha = senha;
        }
    }
    class Aluno_Service {
        constructor(url) {
            this.url = url;
        }
        inserir(nome, senha) {
            return fetch(this.url, {
                method: "POST",
                body: JSON.stringify(nome, senha),
                headers: {
                    'Content-Type': 'application/json'
                }
            }).then(resposta => resposta.json())
        }
        listar() {
            return fetch(this.url, {
                method: "GET"
            }).then(resposta => resposta.json())
        }
    }
    class PROFESSOR {
        constructor(nome, senha, email) {
            this.nome = nome;
            this.senha = senha;
            this.email = email;
        }
    }
    class ProfessorService {
        constructor(url) {
            this.url = url
        }
        listar() {
            return fetch(this.url, {
                method: "GET"
            }).then(resposta => resposta.json())
        }
        inserir(nome, senha) {
            return fetch(this.url, {
                method: "POST",
                body: JSON.stringify(nome, senha),
                headers: {
                    'Content-Type': 'application/json'
                }
            }).then(resposta => resposta.json())
        }
    }
    
    let tipo_loginx;
    
    let tipo_userx = document.getElementsByTagName("button");
    for (let i = 0; i <= tipo_userx.length - 1; i++) {
        tipo_userx[i].onclick = function () {
            tipo_loginx = event.target.id
            if (tipo_loginx == "bbx") {
                $("#logx").css('background', 'linear-gradient(whitesmoke,lightblue)');
                $("#obx").hide("fast");
                $("#tipologinx").css('background-color', 'lightblue');
                $("#bbx").css('background-color', 'blue');
                $("#ccx").css('background-color', 'lightslategray');
                $("#wallx").css('padding-bottom', '7.2%');
            } else {
                $("#logx").css('background', 'linear-gradient(whitesmoke,lightgreen');
                $("#obx").hide("fast");
                $("#tipologinx").css('background-color', 'lightgreen');
                $("#ccx").css('background-color', 'green');
                $("#bbx").css('background-color', 'lightslategray');
                $("#wallx").css('padding-bottom', '7.2%');
            }
        }
    }
    document.getElementById("fazer_login").onclick = function () {
        const usuario = $("#nome_login").val();
        const senha = $("#senha_login").val();
        if (tipo_loginx == "bbx") {
            const aluno_service = new Aluno_Service(`https://bancodedados.tawham.repl.co/Alunos?email=${usuario}`);
            aluno_service.listar().then(resposta => {
                if (resposta.length === 0) {
                    swal('Login Inválido!', '- email -', 'error');
                } else {
                    const combination = "1234567890abcdefghijklmnopqrstuvwxyz";
                    const email = resposta[0].email;
                    let id = resposta[0].id;
                    id = id.toString();
                    const nome_user = resposta[0].nome;
                    const senha_banco =resposta[0].senha;
                    
                    const descypted_senha = CryptoJS.AES.decrypt(senha_banco,combination);
                    const senha_descrypted = descypted_senha.toString(CryptoJS.enc.Utf8);
                
                    (senha_descrypted)
                    if(senha == senha_descrypted){
                        const encrypted_id = CryptoJS.AES.encrypt(id,combination);
                        const encrypted_email = CryptoJS.AES.encrypt(email,combination);
                        const encrypted_nome = CryptoJS.AES.encrypt(nome_user,combination);
                        localStorage.setItem('id',encrypted_id);
                        localStorage.setItem('email',encrypted_email);
                        localStorage.setItem('nome',encrypted_nome);
                        window.location.assign("./pagina_aluno.html");
                    }else{
                        swal('Login Inválido!', '- Senha Incorreta -', 'error')
                    }
                }
            })
        } else if (tipo_loginx === "ccx") {
            let loginservice = new ProfessorService(`https://bancodedados.tawham.repl.co/professores?email=${usuario}`);
            loginservice.listar().then(results => {
                (results);
                if (results.length == 0) {
                    swal('Login Inválido!', '- email ou senha incorretos -', 'error');
                } else {
                    ("passou")
                    const combination = "1234567890abcdefghijklmnopqrstuvwxyz";
                    let id = results[0].id;
                    id = id.toString();
                    const email = results[0].email;
                    const nome_user = results[0].nome;
                    const senha_banco =results[0].senha;
                    const descypted_senha = CryptoJS.AES.decrypt(senha_banco,combination);
                    const senha_descrypted = descypted_senha.toString(CryptoJS.enc.Utf8);
                    (senha_descrypted);
                    if(senha == senha_descrypted){
                        const encrypted_id = CryptoJS.AES.encrypt(id,combination);
                        const encrypted_email = CryptoJS.AES.encrypt(email,combination);
                        const encrypted_nome = CryptoJS.AES.encrypt(nome_user,combination);
                        localStorage.setItem('id',encrypted_id);
                        localStorage.setItem('email',encrypted_email);
                        localStorage.setItem('nome',encrypted_nome);
                        window.location.assign("./professor_pagina.html");

                       
                        
                    }else{
                        swal('Login Inválido!', '- Senha Incorreta -', 'error')
                    }
                }
            })
            
        } else {
            swal('Login Inválido!', '- escolha seu tipo de usuário -', 'error');
        }
    }
>>>>>>> 65981d707bb2c901c7f9269ec827ac071e06e570
